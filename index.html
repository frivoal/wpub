<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US" xml:lang="en-US">
	<head>
		<meta charset="utf-8" />
		<title>Web Publications</title>
		<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
		<script src="https://www.w3.org/Tools/respec/respec-w3c-common" class="remove" defer="defer"></script>
		<script src="common/js/biblio.js" class="remove"></script>
		<link href="common/css/common.css" rel="stylesheet" type="text/css" />
		<script class="remove">
		  // <![CDATA[
          var respecConfig = {
              wg: "Publishing Working Group",
              specStatus: "ED",
              shortName: "wpub",
            //   edDraftURI: "https://w3c.github.io/wpub/",
              editors: [
                  {
      			      "name": "Matt Garrish",
                      "company": "DAISY Consortium",
                      "companyURL": "http://www.daisy.org",
                      "w3cid": 51655
                  },
                  {
                    "name": "Ivan Herman",
                    "url": "https://www.w3.org/People/Ivan/",
                    "company": "W3C",
					"w3cid": 7382,
                    "extras": [
                    {
                      "name": "<img src='common/images/orcid_logo.png' alt='orcid logo'/>",
                      "href": "http://orcid.org/0000-0003-0782-2704",
                      "class": "orcid"
                    }],
                    "companyURL": "http://www.w3.org",
                  }
              ],
			  authors: [
			      {
                    "name": "Baldur Bjarnason",
                    "company": "The Rebus Foundation",
                    "companyURL": "http://reb.us/",
					"w3cid": 92101
                  },
			  	  {
                    "name": "Timothy W. Cole",
                    "url": "http://www.library.illinois.edu/people/bios/t-cole3/",
                    "company": "University of Illinois at Urbana-Champaign",
                    "companyURL": "http://illinois.edu",
					"w3cid": 53965,
                    "extras": [
                      {
                        "name": "<img src='common/images/orcid_logo.png' alt='orcid logo'/>",
                        "href": "https://orcid.org/0000-0002-5906-4581",
                        "class": "orcid"
                      }]
                  },
			  ],
              processVersion: 2017,
              includePermalinks: true,
              permalinkEdge:     true,
              permalinkHide:     false,
              diffTool:          "http://www.aptest.com/standards/htmldiff/htmldiff.pl",
              wgURI:             "https://www.w3.org/publishing/groups/publ-wg/",
              wgPublicList:      "public-publ-wg",
              wgPatentURI:       "https://www.w3.org/2004/01/pp-impl/100074/status",
			  github:			 {
				  repoURL: "https://github.com/w3c/wpub",
				  branch: "master"

			  },
            //   otherLinks: [
            //       {
            //         key: "Repository",
            //         data: [{
            //             value: "Github Repository",
            //             href: "https://github.com/w3c/wpub"
            //         }]
            //       },
            //       {
            //         key: "Changes",
            //         data: [
            //         // {
            //         //   value: "Diff to previous version",
            //         //   href: "diff.html"
            //         // },
            //         {
            //           value: "Commit history",
            //           href: "https://github.com/w3c/wpub/commits/master"
            //         }]
            //       }
            //   ],
              localBiblio: biblio
          };
          // ]]>
      </script>
	</head>
	<body>
		<section id="abstract">
			<p>This specification defines a collection of information that describes the structure of Web Publications, 
			so that user agents or developers may create user experiences well-suited to reading publications, 
			such as sequential navigation and offline reading.
			This information includes the default reading order, a list of resources, 
			and publication-wide metadata.</p>
		</section>
		<section id="sotd">
			<p>This first public working draft provides a preliminary outline of a Web Publication. Many details are under
				active consideration within the Publishing Working Group and are subject to change. The most prominent known
				issues have been identified in this document and links provided to comment on them.</p>

			<p>In particular, the Working Group seeks feedback on the following issues:</p>
			<ul>
				<li>...</li>
			</ul>
		</section>
		<section id="intro">
			<h2>Introduction</h2>

			<section id="background" class="informative">
				<h3>Background</h3>

				<p>For millenia now, the written word has been the primary means of encoding and sharing ideas and
					information. The publication as a bounded edition, made public, has been used to carry intellectual and
					artistic works of innumerable form: novels, plays, poetry, journals, magazines, newspapers, articles,
					laws, treatises, pamphlets, atlases, comics, manga, notebooks, memos, manuals, and albums of all
					sorts.</p>

				<p>More recently, with the advent of the information age, print has been ceding ground to digital, and the
					Web has become a major forum for the public dissemination of ideas. But the Web is unbounded: information
					and resources are only loosely connected through hyperlinks. While this model has helped the Web thrive
					in many areas, it has proven problematic for traditional information publishing—users often cannot access
					works in their entirety, especially when offline, and have not been able to easily access, compile and
					download content for curation and personal use. That, in turn, has fed the continuing development of
					non-Web document formats to redress these problems, and made it necessary to create both Web-ready
					content and alternative offline renditions to ensure publications are fully available.</p>

				<p>This specification aims to reduce these barriers and reinvigorate publishing by combining the best aspects
					of both models—the persistent availability and portability of bounded publications with the pervasive
					accessibility, addressability, and interconnectedness of the Open Web Platform.</p>
			</section>

			<section id="scope" class="informative">
				<h3>Scope</h3>

				<p>This specification only defines requirements for the production and rendering of valid <a>Web
						Publications</a>. As much as possible, it leverages existing Open Web Platform technologies to
					achieve its goal—that being to allow for a measure of boundedness on the Web without changing the way
					that the Web itself operates.</p>

				<p>Moreover, the specification is designed to adapt automatically to updates to Open Web Platform
					technologies in order to ensure that Web Publications continue to interoperate seamlessly as the Web
					evolves (e.g., by referencing the latest published versions instead of specific versions).</p>

				<p>Further, this specification does not attempt to constrain the nature of a Web Publication: any type of
					work that can be represented on the Web constitutes a potential Web Publication.</p>
			</section>

			<!-- <section id="nature">
				<h3>Web Publications</h3>

				<p>The act of publishing involves obtaining resources, organizing them into a publication and making that
					publication available on a Web server. In doing so, the publisher establishes the interconnectedness that
					binds the resources into a single work. This process also provides an origin for the Web Publication and
					a URL that uniquely identifies it, giving provenance to the work.</p>

				<p>The establishment of this discoverable and identifiable collection is what enables users to access their
					content without concern for whether they are online or offline. The user agent can cache the resources
					ensuring that the Web Publication is available and functional while offline, providing the user, as much
					as possible, a seamless experience interacting with a Web Publication regardless of their network
					connection.</p>

				<p>The Web Publication introduces the concept of a manifest, which serves to carry information about the
					constituent resources of the publication. The manifest includes metadata that describes the publication
					as a whole, as it has an identity and nature beyond its constituent resources. The metadata and manifest
					also incorporate information about the sequence and presentation of the content.</p>

				<p>A Web Publication also provides a default ordering of its primary constituent resources, although that
					order may be changed by user interaction or scripting. The user is able to access any primary resource
					directly via navigation provided by the publication itself or via the user agent.</p>
			</section> -->

			<section id="terminology">
				<h3>Terminology</h3>

				<p>Wherever appropriate, this document relies on terminology defined by the note on "Publishing and Linking
					on the Web" [[!publishing-linking]], including, in particular, <a class="externalDFN"
						href="https://www.w3.org/TR/publishing-linking/#dfn-user">user</a>, <a class="externalDFN"
						href="https://www.w3.org/TR/publishing-linking/#dfn-user-agent">user agent</a>, <a
						class="externalDFN" href="https://www.w3.org/TR/publishing-linking/#dfn-browser">browser</a>, and <a
						class="externalDFN" href="https://www.w3.org/TR/publishing-linking/#dfn-address">address</a>.</p>

				<dl>
					<dt><dfn>Identifier</dfn></dt>
					<dd>
						<p>An identifier is metadata that can be used to refer to <a class="externalDFN"
								href="https://www.w3.org/TR/publishing-linking/#dfn-web-content">Web Content</a> in a
							persistent and unambiguous manner. URLs, URNs, DOIs, ISBNs, or PURLs are all examples of
							persistent identifiers frequently used in publishing.</p>
					</dd>

					<dt><dfn data-lt="Manifests">Manifest</dfn></dt>
					<dd>
						<p>A manifest represents structured information about a <a>Web Publication</a>, such as informative
							metadata, a <a href="#wp-resources">list of all resources</a>, and a <a>default reading
							order</a>.</p>
					</dd>

					<dt><dfn>Non-empty</dfn></dt>
					<dd>
						<p>For the purposes of this specification, non-empty is used to refer to an element, attribute or
							property whose text content or value consists of one or more characters after whitespace
							normalization, where whitespace normalization rules are defined per the host format.</p>
					</dd>

					<dt><dfn>URL</dfn></dt>
					<dd>
						<p>In this specification, the general term URL is used as in other W3C specifications like
							HTML&#160;[[!html]], and is defined by URL Standard of the WhatWG&#160;[[!url]]. In particular,
							such a URL allows for the usage of characters from Unicode following&#160;[[!rfc3987]]. See <a
								href="https://www.w3.org/TR/html/references.html#biblio-url">the note in the HTML5
								document</a> for further details.</p>
					</dd>

					<dt><dfn data-lt="Web Publications|Web Publication's">Web Publication</dfn></dt>
					<dd>
						<p>A Web Publication is a collection of one or more resources, organized together through a
								<a>manifest</a> into a single logical work with a <a>default reading order</a>. The Web
							Publication is uniquely identifiable and presentable using Open Web Platform technologies.</p>
					</dd>
				</dl>
			</section>
		</section>
		<section id="conformance">
			<section>
				<h2>Conformance Classes</h2>

				<p>This specification defines two conformance classes: one for <a>Web Publications</a> and one for user
					agents that process them.</p>

				<p id="wp-conformance">A Web Publication is conformant to this specification if it meets the following
					criteria:</p>

				<ul>
					<li>It MUST have a <a>manifest</a> that conforms to <a href="#manifest-req"></a>.</li>
				</ul>

				<p id="ua-conformance">A user agent is conformant to this specification if it meets the following
					criteria:</p>

				<ul>
					<li>It MUST be capable of generating a conforming <a href="#infoset">infoset</a> for a Web
						Publication.</li>
				</ul>
			</section>
		</section>
		<section id="infoset">
			<h2>Information Set</h2>

			<p class="ednote">The name "infoset" may change depending on feedback. Although this term has a different meaning
				for individuals familiar with XML, alternatives such as "properties" and "metadata" do not fully capture the
				nature or purpose. See <a href="https://github.com/w3c/wpub/issues/63">issue #63</a> for discussion.</p>

			<section id="infoset-expl">
				<h3>Explanation</h3>

				<p>A Web Publication is defined by a set of properties known as its <dfn data-lt="infoset">information
						set</dfn> (infoset). The infoset is both abstract and concrete. It is abstract in the sense that it
					represents a set of information that a user agent has to be able to compile about the Web Publication,
					but it also becomes concrete when the user agent creates an internal representation of the
					information.</p>

				<p>The infoset does not require a specific serialization. It is primarily compiled from a Web Publication's
						<a>manifest</a>, whose serialization requirements are defined in <a href="#manifest-serialization"
					></a>. It is therefore possible to express the same infoset via different manifests, although a Web
					Publication will only have one manifest.</p>

				<p>Although the manifest is the primary source of the infoset, some information may be obtained independent
					of it. For example, fallback rules for properties defined in the following subsections allow a user agent
					to compile information that the author has not provided in the manifest, whether as an intentional
					optimization or by accidental omission.</p>
			</section>

			<section id="infoset-req">
				<h3>Requirements</h3>

				<p>The Web Publication <a>infoset</a> MUST include the following information:</p>

				<ul>
					<li>The <a href="#wp-address">address</a> of the Web Publication.</li>
					<li>The <a href="#wp-resources">Web Publication resources</a>.</li>
					<li>The <a href="#wp-default-reading-order">default reading order</a> of the Web Publication.</li>
				</ul>

				<p>In addition, the infoset SHOULD include the following information:</p>

				<ul>
					<li>The <a href="#wp-title">title</a> (or "name") of the Web Publication.</li>
					<li>The <a href="#wp-language">default (natural) language</a> of the Web Publication.</li>
					<li>A <a href="#wp-canonical-identifier">canonical identifier</a>.</li>
					<li>The <a href="#wp-table-of-contents">table of contents</a>.</li>
				</ul>

				<p class="ednote">These requirements reflect the current minimum consensus, though a number of issues remain
					open that could change whether an item is required or recommended. See the following sections for more
					information.</p>

				<p class="issue" data-number="21">Whether the minimum manifest must include any metadata, or a specific slot
					to handle metadata. (Note: this is now more specifically related to the infoset.)</p>
			</section>

			<section id="wp-title">
				<h3>Title</h3>

				<p>The title provides the human-readable name of the Web Publication.</p>

				<p>When specified in the manifest, the title MUST be <a>non-empty</a>.</p>

				<p>If a user agent requires a title and one is not available in the <a>infoset</a>, it MAY create one. This
					specification does not mandate how such a title is created. The user agent might:</p>

				<ul>
					<li>use the first <a>non-empty</a>
						<code>title</code> element found in the <a>default reading order</a>;</li>
					<li>provide a language-specific placeholder title (e.g., 'Untitled Publication');</li>
					<li>use the URL of the manifest;</li>
					<li>calculate a title using its own algorithm.</li>
				</ul>

				<div class="note">
					<p>A user agent is not expected to produce a <a
							href="https://www.w3.org/TR/WCAG20/#navigation-mechanisms-title">meaningful title</a> [[WCAG20]]
						for a Web Publication when one is not specified.</p>
				</div>
			</section>

			<section id="wp-language">
				<h3>Language</h3>

				<p>The language specified in the Web Publication's <a>infoset</a> identifies the natural language(s) of its
					content.</p>

				<p>This language is not used in the processing or rendering of the Web Publication (including the manifest),
					and is <strong>not</strong> a replacement for identifying the language of each resource as defined by its
					format. It instead allows a user agent to ability to provide supplementary enhancements, such as the
					ability to download a custom dictionary or the preload a language-specific text-to-speech module.</p>

				<p>When specified, the language MUST be a tag that conforms to [[!BCP47]].</p>

				<p>If a user agent requires the language and one is not available in the infoset, it MAY attempt to determine
					the language. This specification does not mandate how such a language tag is created. The user agent
					might:</p>

				<ul>
					<li>use the <a>non-empty</a> language declaration of the manifest;</li>
					<li>use the first non-empty language declaration found in the <a>default reading order</a>;</li>
					<li>calculate the language using its own algorithm.</li>
				</ul>

				<p>If a language tag cannot be determined, the value "<code>und</code>" (undetermined) MUST be used.</p>

				<div class="issue" data-number="53">
					<p>The question is whether the language declared for the manifest content is the same as the language of
						the publication, and how to deal with multilingual publications.</p>
				</div>
			</section>

			<section id="wp-canonical-identifier">
				<h3>Canonical Identifier</h3>

				<p>A <a>Web Publication's</a>
					<dfn>canonical identifier</dfn> is a unique identifier that resolves to the preferred version of the Web
					Publication. The canonical identifier SHOULD be an <a>address</a>, but, if not, it MUST be possible to
					make a one-to-one mapping to an address (e.g., a DOI can be resolved to a URL via a DOI resolver).</p>

				<p>If a Web Publication is hosted at more than one address, this identifier allows a user agent to identify
					the shared relationship between the versions and to determine which of the available addresses is
					primary.</p>

				<p>The canonical identifier is also intended to provide a measure of permanence above and beyond the Web
					Publication's address. Even if a Web Publication is permanently relocated to a new address, for example,
					the canonical identifier will provide a way of locating the new location (e.g., a DOI registry could be
					updated with the new URL, or a redirect could be added to the URL of the canonical identifier).</p>

				<p>When assigned, the canonical identifier needs to be unique to one and only one Web Publication,
					independent of its address(es). Ensuring uniqueness is outside the scope of this specification, however.
					The actual uniqueness achievable depends on such factors as the conventions of the identifier scheme used
					and the degree of control over assignment of identifiers.</p>

				<p class="note">If the canonical identifier is a URL, it can be used as the target of a "canonical"
					link&#160;[[!rfc6596]] (e.g., a [[html]] <code>link</code> element whose <code>rel</code> attribute has
					the value <code>canonical</code> or a Link HTTP header field [[rfc5988]] similarly identified).</p>

				<p class="issue" data-number="58">The question is whether a canonical identifier is necessary to call out
					explicitly in the infoset, or whether it is/can be handled by other metadata.</p>
			</section>

			<section id="wp-address">
				<h3>Address</h3>

				<p>A Web Publication's <dfn>address</dfn> is a <a>URL</a> that refers to a <a>Web Publication</a> and enables
					the retrieval of a representation of the <a>manifest</a> of the Web Publication.</p>

				<p>The availability of this address does not preclude the creation and use of other identifiers and/or
					addresses to retrieve a representation of a <a>Web Publication</a> in whole or part.</p>

				<div class="note">The Web Publication's address can also be used as value for an identifier link relation
					[[link-relation]].</div>
			</section>

			<section id="wp-resources">
				<h3>Resources</h3>

				<p>The <a>infoset</a> MUST include a list of the Web Publication's resources, although the list is not
					required to be exhaustive. Resources in the <a>default reading order</a> MUST be included in this
					list.</p>

				<p class="issue" data-number="22">The discussion led to the question whether the manifest/infoset MUST list
					all resources or not. In this sense, this became a duplicate of <a
						href="https://github.com/w3c/wpub/issues/23">issue #23</a> ended up at the same question.</p>

				<p class="issue" data-number="23">The question is whether the manifest/infoset MUST list all resources or
					not.</p>

				<p class="issue" data-number="59">The question is whether the manifest MUST list resources in the default
					reading order or whether this can be inferred.</p>
			</section>

			<section id="wp-default-reading-order">
				<h3>Default Reading Order</h3>

				<p>The <dfn>default reading order</dfn> is a specific progression through a set of Web Publication
					resources.</p>

				<p>A user might follow alternative pathways through the content, but in the absence of such interaction the
					default reading order defines the expected progression from one resource to the next.</p>

				<p>The default reading order MUST include at least one resource.</p>

				<p>The default reading order is either specified directly in the manifest or a link is provided to an
					[[!html]] <code>nav</code> element whose list of links are processed to create one.</p>

				<p>The process for extracting a default reading order from a <code>nav</code> element are as follows:</p>

				<ol>
					<li>extract a list of resource paths referenced from the <code>href</code> attribute of all
							<code>a</code> elements;</li>
					<li>strip any fragment identifiers from the references;</li>
					<li>resolve all relative paths to full URLs;</li>
					<li>remove all consecutive references to the same resource, leaving only the first.</li>
				</ol>

				<p>If a user agent requires a default reading order and one is not provided in the <a>infoset</a>, it MAY
					attempt to construct one. This specification does not mandate how such a default reading order is
					created. The user agent might:</p>

				<ul>
					<li>use only the resource the user accessed to reach the manifest;</li>
					<li>search the list of resources for a <code>nav</code> element to use;</li>
					<li>calculate the default reading order using its own algorithm.</li>
				</ul>

				<p class="issue" data-number="35">Define the default reading order of a Web Publication to be the files
					referenced in the first</p>
				<p class="issue" data-number="39">There is a consensus that a Web Publication must have a reading order and
					must/should have a table of contents (the main navigation entry point).</p>
			</section>

			<section id="wp-table-of-contents">
				<h3>Table of Contents</h3>

				<p>The table of contents provides access to major sections of the Web Publication. There are no requirements
					on the completeness of the table of contents, except that, when specified, it MUST link to at least one
					resource in the <a>default reading order</a>.</p>

				<p>The table of contents is either specified directly in the manifest or a link is provided to an [[!html]]
						<code>nav</code> element containing one.</p>

				<p>If a user agent requires a table of contents and one is not specified, it MAY construct one. This
					specification does not mandate how such a table of contents is created. The user agent might: </p>

				<ol>
					<li>attempt to locate a table of contents in the default reading order (e.g., an HTML document with a
							<code>nav</code> element that has the <code>role</code> attribute value
						<code>doc-toc</code>);</li>
					<li>use the titles of resources in the default reading order;</li>
					<li>calculate a table of contents using its own algorithms.</li>
				</ol>

				<p class="issue">This question arises only if this mechanism is accepted: the question is whether a table of
					contents navigation element can refer, via links, to any resource that is <em>not</em> listed in the
					default reading order.</p>

				<p class="ednote">The issue of using the HTML <code>nav</code> element as a possible encoding of the table of
					contents is mentioned or explicitly addressed in a number of issues listed below.</p>

				<p class="issue" data-number="35">Define the resources in the default reading order of a Web Publication to
					be the files referenced in the first</p>
				<p class="issue" data-number="39">There is a consensus that a Web Publication must have a reading order and
					must/should have a table of contents (the main navigation entry point).</p>
			</section>
			<section id="wp-metadata">
				<h3>Additional Metadata</h3>
				<p>In addition the stated requirements the Web Publication Infoset SHOULD also provide the following publication metadata:</p>
				<ul>
					<li>A list of creators and, optionally, their specific roles. E.g. 'author', 'publisher', 'editor', or 'translator'.</li>
					<li>Publication date</li>
					<li>Modification date</li>
					<li>Accessibility metadata</li>
				</ul>

				<p class="issue" data-number="66"></p>
				
				<p>Identifiers and modification dates are an important aid in the distribution and storage of portable formats (past, current, and present) so authors are urged to include this information whenever they can.</p>

				<p>The infoset MAY also provide:</p>

				<ul>
					<li>A subtitle</li>
					<li>Licensing information</li>
					<li>Intended audience</li>
					<li>General subject</li>
				</ul>

				<p>These items apply to the Web publication in its entirety. Metadata for individual content documents should be embedded in or linked from the content documents themselves.</p>

				<p>The Web Publication Infoset SHOULD NOT include complex, specialised, and industry-specific metadata and authors should limit the metadata included in the manifest to the items above.</p>

				<p>If the information set does not cover the publication's needs, authors should link to external metadata files in whichever formats and schema are most commonly accepted as the authoritative metadata format for their intended audiences. They can include multiple metadata links in multiple formats, one for each intended audience, if needed.</p>

				<p>User Agents MAY decide to support metadata extensions, other metadata schemes, or additional metadata properties if they so choose. User Agents must ignore metadata properties that they do not recognise.</p>

			</section>
		</section>
		<section id="manifest">
			<h2>Manifest</h2>

			<section id="manifest-intro" class="informative">
				<h3>Overview</h3>

				<p>A <a>manifest</a> is a specific serialization of a <a>Web Publication's</a>
					<a>infoset</a>.</p>
			</section>

			<section id="manifest-req">
				<h3>Requirements</h3>

				<p>The requirements for a conforming Web Publication manifest are as follows:</p>

				<ol>
					<li>It MUST <a href="#manifest-declaration">declare</a> that it describes a Web Publication.</li>
					<li>It MUST be serialized as defined in <a href="#manifest-serialization"></a>.</li>
				</ol>
			</section>

			<section id="manifest-declaration">
				<h3>Declaration</h3>

				<div class="ednote">Placeholder for how a manifest declares it describes a web publication.</div>
			</section>

			<section id="manifest-serialization">
				<h3>Serialization</h3>

				<p class="issue" data-number="25"></p>
				<p class="issue" data-number="26">Should the table of contents be a separate HTML file or is the listing of
					resources in the default reading order an implicit table of contents?</p>
				<p class="issue" data-number="32"></p>
			</section>

			<section id="manifest-linking">
				<h2>Linking to a Manifest</h2>

				<div class="ednote">Placeholder for how resources identify they belong to a publication.</div>

				<p class="issue" data-number="13">If we have a collection of information about a web publication as a whole
					("manifest") that exists separately from most of the publication's resources, we need to find a way to
					associate the manifest with the other publication resources.</p>
			</section>

			<section id="manifest-linking-from">
				<h3>Linking <em>from</em> a Manifest</h3>

				<p>The manifest serialization MUST provide a general linking mechanism for defining a relationship between the Web Publication and other resources on the Web as well as the type of those relationships.</p>

				<p>This mechanism is used in to express many parts of the Web Publication's infoset, including but not limited to:</p>

				<ul>
					<li><a href="#wp-canonical-identifier">Canonical identifier</a> using the <code>rel='canonical'</code> link relation.&nbsp;[[rfc6596]]</li>
					<li><a href="#wp-table-of-contents">Table of Contents</a> in the cases where the ToC is specified as a link to an HTML nav element.</li>
					<li><a href="#wp-metadata">External metadata</a> that may be expressed in established vocabularies such as ONIX, MARC, schema.org, or Dublin Core.</li>
				</ul>

				<p class="ednote">There are some overlaps between this list and, e.g., the separate section on canonical identifiers.</p>

				<p>This linking mechanism may also be used to express other common link structures on the open Web. For example:</p>

				<ul>
					<li>Distribution feeds such as <a href="http://opds-spec.org/specs/opds-catalog-1-1">OPDS</a> or <a href="https://tools.ietf.org/html/rfc4287">Atom</a>&nbsp;[[rfc4287]]</li>

					<li>Alternate versions of the publication</li>
					<li><a href="https://www.w3.org/TR/webmention/">Web Mentions</a>&nbsp;[[webmention]]</li>
				</ul>

				<p class="note">Some of these link structures, such as dynamic search links, may require support for <a href="https://tools.ietf.org/html/rfc6570">URI templates</a>&nbsp;[[rfc6570]] to be meaningfully useful in the context of a Web Publications. User agents should(?) support URI templates in order to make it easier for publishers to integrate dynamic server-side features into their publications with minimal coding and effort.</p>

				<p class="issue" data-number="67"></p>
			</section>
		</section>
		<section id="lifecycle">
			<h2>Establishing a Web Publication</h2>

			<p class="issue" data-number="32">Need to determine intersection between web pubs and the lifecycle of a web
				app.</p>

			<section id="lifecyle-obtain-manifest">
				<h3>Obtaining the manifest</h3>

				<p class="ednote">Placeholder for UA discovering and obtaining a manifest.</p>
			</section>

			<section id="lifecycle-process-manifest">
				<h3>Processing the manifest</h3>

				<p class="ednote">Placeholder for UA processing of manifest and creation of infoset.</p>
			</section>

			<section id="lifecycle-intiate-wp">
				<h3>Intiating the Web Publication</h3>

				<p class="ednote">Placeholder for UA initiating an enhanced reading experience.</p>
			</section>

			<section id="lifecycle-update-wp">
				<h3>Updating the Web Publication</h3>

				<p class="ednote">Placeholder for UA updating manifest and/or WP content.</p>
			</section>
		</section>
		<section id="wp-enhancements">
			<h2>Reading Enhancements</h2>

			<p class="ednote">This section contains placholders for possible reading enhancements the UA may/should/must
				provide. The list is subject to addition, modification and removal as the enhancements get discussed in more
				detail.</p>

			<section id="enh-nav">
				<h3>Navigation</h3>

				<section id="enh-reading-order">
					<h4>Reading Order</h4>

					<p class="ednote">Placeholder for automatic progression through the default reading order.</p>
				</section>

				<section id="enh-toc">
					<h4>Table of Contents</h4>

					<p class="ednote">Placeholder for accessing a table of contents.</p>
				</section>
			</section>

			<section id="enh-offline-reading">
				<h3>Offline Reading</h3>

				<p class="ednote">Placeholder for offline reading of a publication.</p>
			</section>

			<section id="enh-search">
				<h3>Search</h3>

				<p class="ednote">Placeholder for inter-publication search.</p>
			</section>

			<section id="Layout">
				<h3>Layout</h3>

				<p class="issue advisement">This section needs thorough review not only from the publishing community
					to ensure that the proposed behavior is desirable,
					but also from Web Browser vendors and other implementors of layout engines
					to ensure that is it implementable.</p>

				<p>The layout and rendering of <a>Web Publications</a> is governed by the usual rules that apply to all web content.
				[[!HTML]] (including XHTML) documents are styled and laid out according to the rules of <a href="https://www.w3.org/TR/CSS/">CSS</a>,
				[[!SVG]] files are rendered as normally expected of that format, and so on.
				This specification requires no particular profile or subset of CSS, HTML, or SVG to be supported,
				other than the expectations set for these technologies by their respective specifications.</p>

				<div class=note>
					<p>This specification intentionally refrains from introducing any new layout feature.
					Any shortcoming of the web platform in terms of layout needs to be addressed for the whole web platform,
					which means via CSS.</p>

					<p>This working group recognizes that the features offered by CSS specifications have limitations,
					and that in some cases implementations may be incomplete.
					However, attempts to address these shortcomings for the exclusive purpose of <a>Web Publications</a>
					would at best have no effect,
					and at worst lead to a divergence between “ordinary” web content and <a>Web Publications</a>,
					instead of the convergence this specification aims to achieve.</p>

					<p>This working group will work with other relevant groups of the W3C to address
					platform wide limitations that negatively impacts <a>Web Publications</a>,
					and invites readers to do the same.</p>
				</div>

				<p>For the purposes of layout, each resource of a <a>Web Publication</a> is treated as a separate document.
				User Agents must not mix content from multiple resources in the same rendering:
				For instance, <a href="https://www.w3.org/TR/CSS21/visuren.html#floats">CSS floats</a> or <a href="https://www.w3.org/TR/CSS21/visuren.html#absolutely-positioned">Absolutely positioned elements</a>
				from one resource may not intrude or overlap with content from an other resource.</p>

				<p>Users must therefore rely on the UI features of the User Agent
				to navigate from one resource to another,
				rather than expect a collection of resources to be readable as if it were a single one.</p>

				<p>This does not imply that User Agents are forbidden from juxtaposing the rendering of the various resources.
				Scrolling User Agents may for instance place renderings of the resources beneath each other in the <a>default reading order</a>,
				so that users may seamlessly scroll past the end of one and into the next one,
				as long as the layout of resources is processed independent.
				Similarly, paginating Users Agents can let users flip pages from one resource to the next,
				but must not display content from two or more separate resources on the same page.</p>

				<div class=issue>
					<p>Should this "UAs may juxtapose" phrasing be replaced with normative prose defining precisely
					how such juxtaposition work?
					On the one hand, interoperability is always good,
					on the other hand, this is an area with lots of subtleties and room for UI innovation.
					It may be wiser to let a first generation of UAs experiment freely,
					and standardize on the winning behavior in a future revision of this specification
					</p>
				</div>

				<div class=note>
					<p>This requirement of laying out each resource separately puts some constrains
					on authors’ abilities to arbitrarily style a <a>Web Publication</a>,
					and may appear to go against the principle of the separation of concerns.
					However, the alternative is not practical:
					CSS is not defined to work over a collection of documents,
					and numerous sections of the specifications would need rewriting
					to define the behavior of selectors, counters, floats, positioned elements…</p>

					<p>An alternative approach would be to leave CSS work on a single document,
					but have that document be the <a>Web Publication</a> as a whole rather than its individual HTML constituents.
					This is however merely moving the problem around rather than solving it,
					as this specification would then need to define semantics for this unified document format separately from [[HTML]]
					including a DOM and assorted APIs, what to do with redundant or conflicting meta data
					from each each of the constituent part,
					not to mention a sensible way to merge resources of unrelated types,
					such as an HTML resource followed in the default reading order by an SVG resource, itself followed by a PNG image…</p>

					<p>However, nothing forces authors to use separate resources for separate chapters of a book
					or similar semantic subdivisions of their publications,
					so this constraint on styling is easily worked around
					when subdivisions of a publication need to be blended together.</p>

				</div>

					<div class=issue>
						<p>Despite this general requirement that each resource should be treated as a separate document
						for the purpose of layout,
						there are probably a handful of places where CSS specifications should be amended to
						be able to deal more intelligently with collections of resources like <a>Web Publications</a>.

						<p>One instance is the definition of <a href="https://drafts.csswg.org/css-content/#cross-references">cross references</a>
						which are currently restricted to work only within a single document.
						This restriction should be relaxed to allow for cross references between
						separate resources of a single <a>Web Publication</a>.

						<p>Another related one would be to allow <a href="https://drafts.csswg.org/css-lists-3/#counter-properties">counters</a>
						to accumulate across multiple resources of a single <a>Web Publication</a>,
						for instance so that figures in multiple sections may be numbered in a single sequance.

					</div>

				<section id="scrolling-or-paginating" class=informative>
					<h4>Scrolling or Paginating</h4>
					<p>Web content, and a fortiori <a>Web Publications</a>, may be rendered on various media,
					each with differing characteristics,
					either due to the physical media itself or to the design of the User Agent.
					Web Publications are not constrained to any specific medium;
					User Agents are expected to render them as they would render other web content on the same medium.
					Authors can adjust the way they style their documents using the features specified in [[MEDIAQ]] or its successor [[MEDIAQUERIES-4]],
					as supported by the User Agent.</p>
					<p>It is however worth calling out a major subdivision within media types: scrolling and paginating.</p>
					<p>In scrolling media, when content overflows the <a href="https://www.w3.org/TR/css-display-3/#initial-containing-block">initial containing block</a> (See [[CSS-DISPLAY-3]])
					it is exposed by allowing users to scroll to it.
					This behavior is typical of most desktop or mobile web browsers.</p>
					<p>In paginating media, content is broken up into discrete pages,
					and content that overflows one page is displayed on subsequent pages.
					This behavior is typical of web content printed on paper,
					of the output of web-to-PDF renderers,
					and of many e-book reading systems.</p>
					<p>Some User Agents may support both scrolling and pagination.
					As the preferences of individual readers vary,
					and as different types of publications may be better suited for one or the other,
					this specification encourages User Agents to support both,
					and to offer a choice to their users.</p>

					<div class="note">
					<p>Authors or Publishers occasionally have strong preferences between scrolling and paginating for particular types of content,
					and may wish to require a publication to always be rendered in one or the other mode.
					This wish is not, however, something that <a>Web Publication</a> User Agents can effectively enforce.
					Since <a>Web Publications</a> are composed of backwards-compatible ordinary web content,
					legacy User Agents unaware of this specification will be able to open them,
					and will render them as they render any other content.
					Even <a>Web Publication</a> aware User Agents may only support for one of the two layout modes,
					and cannot be expected to honor requests to use the other one.

					<p>However, within the limits of the layout features supported by the user Agent used to render a publication,
					it is possible for authors to provide a page-like experience on scrolling media,
					using css features such as those defined in [[CSS-MULTICOL-1]] or [[CSS-SCROLL-SNAP-1]],
					or the <a href="https://www.w3.org/TR/css-values-3/#viewport-relative-lengths">viewport units</a> defined in [[CSS-VALUES-3]].
					</div>

					<div class=issue>
					<p>It may nonetheless be useful for authors to be able to specify a preference between scrolling and pagination,
					even if a strict requirement is not possible. This should most likely be addressed through an extension of
					<a href="https://www.w3.org/TR/css-device-adapt-1/#atviewport-rule"><code>@viewport</code></a>
					or of <a href="https://drafts.csswg.org/css-device-adapt/#viewport-meta">the viewport meta tag</a>(see [[CSS-DEVICE-ADAPT]]),
					or possibly through an extension of <a href="https://drafts.csswg.org/css-page-3/#at-page-rule"><code>@page</code></a> (See [[CSS-PAGE-3]]).
					This should be discussed with the relevant working groups (<a href="https://www.w3.org/Style/CSS/">CSSWG</a>, <a href="https://www.w3.org/WebPlatform/WG/">WebPlatformWG</a>, <a href="https://whatwg.org/">WHATWG</a>).
					</div>
				</section>
				<section id="enh-pagination">
					<h4>Paginated Layout</h4>

					<p>When a User Agent renders a <a>Web Publication</a> in a paginated layout,
					it must lay out each document in the <a>default reading order</a> sequentially,
					with the last page of a resource being followed by the first page of the subsequent one.</p>

					<div class=issue>
						<p>To avoid having unstyleable blank pages in the middle of the document,
						if the preceding resource ended on a left page (resp. right page),
						the subsequent one should start on a right page (resp. left page)
						even if the <a href="https://drafts.csswg.org/css-page-3/#progression">page progression</a> (See [[!CSS-PAGE-3]])
						would otherwise lead to starting on the opposite page;
						It should also be possible to use the <a href="">break-before</a> property (See [[!CSS-BREAK-3]])
						to force the content to resume on the opposite side if that was desired by the author.</p>

						<p>[[CSS-PAGE-3] needs to be amended to describe this exception to the general behavior
						when dealing with collections of documents instead of individual documents.</p>
					</div>

					<div class=issue>
						<p>How is that supposed to work when subsequent resources have opposite
						<a href="https://drafts.csswg.org/css-page-3/#progression">page progression</a> (See [[!CSS-PAGE-3]]) direction,
						for instance due to different a different writing mode?
						This is not necessarily a problem from a layout point of view,
						as each page is independent,
						but from an UI point of view, if swiping left means next page until the end of
						one chapter, and starts meaning previous page in the next chapter because
						we've switched from English to Hebrew, this is going to be horribly confusing.
					</div>

					<div class=issue>
						<p>Should any of the above be normative,
						or should we leave this up to User Agents to explore,
						and only standardize if and when a clear winning approach emerges?
					</div>

					<div class=issue>
						<p>[[CSS-PAGE-3]] needs to be amended so that <a href="https://drafts.csswg.org/css-page-3/#page-based-counters">page counters</a>
						are not automatically reset to at the beginning of each new resource belonging to the same
						<a>Web Publication</a>.</p>
					</div>

					<div class="note">
						<p>Pagination, like any other aspect of layout, is governed by the various CSS specifications,
						and is an integrated part of supporting CSS, rather than an isolated standalone feature.
						Nonetheless, a few specification are especially relevant for User Agents
						that wish to provide high quality support for paginated media:
						<dl>
							<dt><a href="https://www.w3.org/TR/CSS2/page.html">Section in 13</a> in [[CSS2]]
							<dd>This defines the fundamentals of pagination in CSS.
							<dt>[[CSS-PAGE-3]]
							<dd>This CSS module specifies how pages are generated and laid out
							to hold fragmented content in a paged presentation.
							It adds functionality for controlling page margins,
							page size and orientation,
							and headers and footers,
							bleed and printer marks,
							and extends generated content to enable page numbering and running headers / footers.
							<dt>[[CSS-BREAK-3]]
							<dd>This module describes the fragmentation model that partitions a flow into pages, columns, or regions.
							It builds on the Page model module and introduces and defines the fragmentation model.
							It adds functionality for pagination, breaking variable fragment size and orientation,
							and controling (forcing or forbidding) where breaks happen, including widows and orphans.
							<dt>[[MEDIAQ]] and [[MEDIAQUERIES-4]]
							<dd>These modules provides authors with features to detect various aspect of the media
							the document is being rendered in, including whether (and how) it is paginated,
							or more nuanced questions to tell apart environments like a ebook reader from a print rendition.
							<dt>[[CSS-GCPM-3]]
							<dd>This module defines a few features that are useful in paged media,
							such as <a href="https://drafts.csswg.org/css-gcpm/#footnotes">footnotes</a>,
							<a href="https://drafts.csswg.org/css-gcpm/#running-headers-and-footers">running headers and footers</a>,
							and <a href="https://drafts.csswg.org/css-gcpm/#the-first-page-pseudo-element">page selectors</a>.
							<dt>[[CSS-CONTENT-3]]
							<dd>This module, while overall unstable at the time of writing,
							contains a few features that while not exclusive to paged media,
							are particularly useful in paged media,
							such as <a href="https://drafts.csswg.org/css-content/#leaders">leaders</a> or
							<a href="https://drafts.csswg.org/css-content/#cross-references">cross references</a>.
							<dt>[[CSS-PAGE-FLOATS-3]]
							<dd>This module extends the ability of floats to not only go to the beginning or end of the line,
							but also to float to the top or bottom of pages, columns…
							<dt>[[CSS-GRID-1]]
							<dd>This module is not specific to paginated media, but is nonetheless noteworthy
							as it enables advanced layouts often found in print publications.
					</div>
				</section>
			</section>
		</section>
		<section id="security">
			<h2>Security</h2>

			<div class="ednote">Placeholder for security issues.</div>
		</section>
		<section id="privacy">
			<h2>Privacy</h2>

			<div class="ednote">Placeholder for privacy issues.</div>
		</section>
		<section id="ack" data-include="common/html/acknowledgements.html" data-include-replace="true"></section>
	</body>
</html>
